<div class="settings-page auth-pages security user-profiles">
    <main class="contain-box">
            <!-- <nav class="riderHeader">
                    <a (click)="navToHome()" class="left-arrow">
                      <i class="flaticon-left-arrow"></i>
                    </a>
                    <h1 class="profile">Profile</h1>
                    
                  </nav> -->
      <div class="user-details">
        <div class="icon-container">
          <button id="edit" class="edit-btn">
            <img src="./assets/icons/create-24px.svg" alt="" (click)="openUploadDialogue()">
                </button>
        </div>
        <div class="profile-info" (deferLoad)="image != null">
            <img src="data:image/jpeg;base64,{{image}}" alt="" class="avi" *ngIf="image">
          <img src="./assets/Images/default-user.png" class="avi" alt="" *ngIf="!image">
          <div class="name-container">
            <h2 class="name">{{user.userName}}</h2>
            <span class="e-mail">{{user.email}}</span>
          </div>
        </div>
        <div class="user-stats">
          <div class="rides">
            <h4 class="figures">40</h4>
            <span class="label">rides</span>
          </div>
          <div class="saved-drivers">
            <h4 class="figures">15</h4>
            <span class="label">saved drivers</span>
          </div>
        </div>
      </div>
  
      <div class="user-details" *ngIf="openDialogue" >
        <div style="padding-bottom: 20px;">Upload Profile Image</div>
        <mat-spinner *ngIf="loading"  [diameter]="30"
        class="loader"
      ></mat-spinner>
          <div >
              <input type="file" style="padding-bottom: 20px;" (change)="uploadImage($event)" #PhotoInput hidden>
              <button type="submit" mat-raised-button color="accent" class="auth-full-width login-text"
              (click)="PhotoInput.click()" >
                  Upload
                </button>
            </div>
        </div>


      <div class="contact-info">
        <div class="contact">
            <img src="./assets/icons/markunread-24px.svg" alt="" class="icon">
            <span class="contact-details">{{user.email}}</span>
        </div>
        <div class="contact">
            <img src="./assets/icons/call-24px.svg" alt="" class="icon">
              <span class="contact-details">{{user.phoneNumber}}</span>
        </div>
      </div>
      <div class="share">
        <div class="referrals">
          <span class="ref-label"> Referral Code</span>
          <h2 class="ref-code">{{ref}}</h2>
        </div>
        <!-- <a href="" class="invite-friend">Invite Friends</a> -->
      </div>
    </main>
  </div>